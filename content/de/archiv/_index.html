---
title: Archiv
linkTitle: Archiv
type: "archiv"
menu: { main: { weight: 10 } }
---

<table class="table" id="archiveTable">
  <thead>
    <th>Datum/Uhrzeit</th>
    <th>Inhalt</th>
    <th>Band</th>
    <th>Land</th>
  </thead>
  <tbody></tbody>
</table>

<script>
  document.addEventListener("DOMContentLoaded", async function () {
    const table = document.getElementById("archiveTable");
    if (!table) return;

    try {
      const response = await fetch("https://cohiradia.radiomuseum.org/api/metadata");
      const data = await response.json();

      data.sort((a, b) => new Date(b.startTimestamp) - new Date(a.startTimestamp));

      data.forEach(item => {

        if (item.type !== "synthetic") {

          const row = table.insertRow();
          const date = row.insertCell();
          const inhalt = row.insertCell();
          const band = row.insertCell();
          const land = row.insertCell();

          const dateObj = new Date(item.startTimestamp);
          const formatted = dateObj.toLocaleString("de-DE", {
            year: "numeric",
            month: "2-digit",
            day: "2-digit",
            hour: "2-digit",
            minute: "2-digit"
          });

          date.innerHTML = `<span class="text-muted text-nowrap">${formatted}</span>`;
          inhalt.innerHTML = `<a href="/de/archiv/detail/?id=${item.id}">${item.content}</a>`;
          band.textContent = item.band;

          if (item.city) {
            land.textContent = `${item.country} (${item.city})`;
          } else {
            land.textContent = item.country;
          }
        }

      });
    } catch (error) {
      console.error("Error loading data.", error);
    }
  });
</script>